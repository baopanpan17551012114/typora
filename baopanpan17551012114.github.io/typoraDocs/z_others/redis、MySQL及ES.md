redis和MySQL不同点
存储的位置不同，mysql主要是将数据存储在物理硬盘上的，redis主要是将数据存储在内存中的。因为这点就会产生许多不同。物理硬盘成本更低，断电也仍然存在，更加安全可靠，但是基于硬盘的io操作会更加耗时。而redis将数据存储在内存中，断电就消失，所以相对而言会不安全一些，而且内存的成本比硬盘更高，但是基于内存的读写效率会更高。根据redis官方给出的数据，50个并发执行100000个请求,读的速度是110000次/s,写的速度是81000次/s
存储数据的形式不同，mysql数据是存储在表中，表中有许多的字段，每条记录里包含多个字段，每个字段有不同的含义。而redis存储数据是以键值对的形式，一个键对应一个值。

redis和MySQL使用场景：
mysql和redis不是非此即彼的关系，而是相辅相成的关系，通常而言是mysql主redis辅。

因为redis的读写效率高、成本高，所以会用在对性能更高的场合，比如秒杀、抢购、实时排行榜等。而mysql可以存储大量的数据，持久化到硬盘，性价比高，在性能要求不是那么高的场合都建议采用mysql。使用mysql+redis时，需要对数据做同步。



## redis

Redis是一个开源（BSD许可），内存**数据结构存储**，用作数据库，缓存和消息代理。

### 1、redis数据结构

redis的数据结构为**key---value**存储，Key：是String，Value有5个数据类型

string、list、set、map（hash）、stored-set



### 1、redis单线程为什么这么快

　　redis是单线程的，但是为什么还是这么快呢，

　　原因1： 单线程，避免线程之间的竞争；

　　原因2 ：是内存中的，使用内存的，可以减少磁盘的io；

　　原因3：多路复用模型，用了缓冲区的概念，selector模型来进行的；

![image-20210827152534142](D:\pythonProJIANLI\baopanpan17551012114.github.io\typoraDocs\typora-user-images\image-20210827152534142.png)



### 9 缓存击穿的解决方案：

　　原因：就是别人请求数据的时候，很多数据在缓存中无法查询到，直接进入数据查询，

　　解决方法，对相关数据进行查询的数据只查询缓存，如果是一些特殊的可以进行数据库查询，

　　也可以采用布隆过滤器进行查询

### 10缓存雪崩的解决方案：

　　缓存雪崩的原因：一次性加入缓存的数据过多，导致内存过高，从而影响内存的使用导致服务宕机

　　解决方法：

　　1 redis集群，通过集群方式将数据放置

　　2 后端服务降级和限流：当一个接口请求次数过多，那么就会添加过多数据，可以对服务进行限流，限制访问的数量，这样就可以减少问题的出现

### Redis和其他数据库的区别

![img](.\typora-user-images\watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQ0ODM2Mjk0,size_16,color_FFFFFF,t_70)
